(()=>{var e={};e.id=618,e.ids=[618],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},67899:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c});var s=r(50482),a=r(69108),n=r(62563),i=r.n(n),o=r(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["vacancies",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5699)),"/Users/lurker/Desktop/employease/app/vacancies/create/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,80577)),"/Users/lurker/Desktop/employease/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/lurker/Desktop/employease/app/vacancies/create/page.tsx"],d="/vacancies/create/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/vacancies/create/page",pathname:"/vacancies/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},52749:(e,t,r)=>{Promise.resolve().then(r.bind(r,56897)),Promise.resolve().then(r.bind(r,72401)),Promise.resolve().then(r.bind(r,1208))},82277:(e,t,r)=>{Promise.resolve().then(r.bind(r,89288))},19996:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,26840,23)),Promise.resolve().then(r.t.bind(r,38771,23)),Promise.resolve().then(r.t.bind(r,13225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,43982,23))},56897:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(95344),a=r(3729),n=r(20783),i=r.n(n),o=r(47674);function l(e){switch(e.type){case"signin":return s.jsx("button",{onClick:()=>(0,o.signIn)(),className:"text-white bg-blue-600 px-2 py-1.5 rounded transition hover:bg-opacity-40 hover:text-blue-600",children:"Sign in"});case"signout":return s.jsx("button",{onClick:()=>(0,o.signOut)(),className:"text-white bg-blue-600 px-2 py-1.5 rounded transition hover:bg-opacity-40 hover:text-blue-600",children:"Sign Out"});case"signup":return s.jsx(i(),{href:"/auth/signup",className:"text-white bg-blue-600 px-2 py-1.5 rounded transition hover:bg-opacity-40 hover:text-blue-600",children:"Register"})}}function c(e){let[t,r]=(0,a.useState)(!0),[n,o]=(0,a.useState)(!1),c=e.session;return(0,a.useEffect)(()=>{window.addEventListener("scroll",()=>{r(window.scrollY<=20)})},[]),s.jsx(s.Fragment,{children:s.jsx("nav",{className:`fixed z-10 w-full h-[64px] flex justify-center items-center transition duration-500 ${t?"bg-black bg-opacity-80":"bg-[#1A1532]"}`,children:(0,s.jsxs)("div",{className:"relative max-md:flex-col max-md:my-5 w-full max-w-[1140px] mx-5 flex justify-between items-center transition",children:[(0,s.jsxs)("div",{className:"max-md:flex max-md:justify-between max-md:w-full",children:[s.jsx(i(),{onClick:()=>o(!1),className:"text-2xl font-medium",href:"/",children:"EmployEase"}),s.jsx("button",{className:"hidden max-md:block z-20",onClick:()=>o(!n),children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",children:[s.jsx("path",{d:"M4 18L20 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M4 12L20 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),s.jsx("path",{d:"M4 6L20 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})]})})]}),(0,s.jsxs)("div",{className:`${t?"max-md:bg-black max-md:bg-opacity-80":"max-md:bg-[#1A1532]"} ${n?"max-md:translate-x-0":"max-md:translate-x-[-100%]"} max-md:w-[100vw] max-md:duration-500 max-md:top-7 max-md:py-5 max-md:absolute max-md:flex-col max-md:my-5 flex items-center gap-5 transition`,children:[s.jsx(i(),{onClick:()=>o(!1),className:"hover:opacity-60 transition",href:"/",children:"Home"}),s.jsx(i(),{onClick:()=>o(!1),className:"hover:opacity-60 transition",href:"/vacancies",children:"Vacancies"}),c&&s.jsx(i(),{onClick:()=>o(!1),className:"hover:opacity-60 transition",href:"/profile",children:"Profile"}),c?.user.role==="Employer"||c?.user.role==="Admin"?(0,s.jsxs)(s.Fragment,{children:[s.jsx(i(),{onClick:()=>o(!1),className:"hover:opacity-60 transition",href:"/vacancies/create",children:"Create vacancy"}),s.jsx(i(),{onClick:()=>o(!1),className:"hover:opacity-60 transition",href:"/profile/vacancies",children:"My vacancies"})]}):s.jsx(s.Fragment,{}),s.jsx(function(){return c?s.jsx(l,{type:"signout"}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(l,{type:"signin"}),s.jsx(l,{type:"signup"})]})},{})]})]})})})}},72401:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(95344),a=r(47674);function n({children:e}){return s.jsx(a.SessionProvider,{children:e})}},89288:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(95344),a=r(22254),n=r(47674),i=r(3729),o=r(53267),l=r.n(o),c=r(1421);let u=l()(async()=>{},{loadableGenerated:{modules:["/Users/lurker/Desktop/employease/app/vacancies/create/page.tsx -> react-quill"]},ssr:!1,loading:()=>s.jsx("p",{children:"Loading ..."})});function d(){let e=(0,a.useRouter)(),{status:t,data:r}=(0,n.useSession)();(0,i.useEffect)(()=>{if("authenticated"===t){if(r?.user.role==="Employee")return(0,c.Z)("error","Permission denied"),e.push("/")}else if("unauthenticated"===t)return(0,c.Z)("error","Permission denied"),e.push("/")},[t]);let[o,l]=(0,i.useState)({title:"",company:"",companyLogo:"",workSchedule:"FULLTIME",minSalary:0,maxSalary:0,location:"",description:""}),d=e=>{let{name:t,value:r}=e.target;"minSalary"===t||"maxSalary"===t?l(e=>({...e,[t]:parseInt(r)})):l(e=>({...e,[t]:r}))};async function p(t){if(t.preventDefault(),!o.title||!o.company||!o.workSchedule||!o.minSalary||!o.maxSalary||!o.location||!o.description)return(0,c.Z)("error","Fill all required inputs");await fetch("https://employease.matrozis.dev/api/vacancy/create",{method:"POST",body:JSON.stringify(o),headers:{"content-type":"application/json"}}).then(e=>e.json()).then(t=>{(0,c.Z)("success",`Created new vacancy with ${t.newVacancy.id} Id`),e.refresh(),e.push("/vacancies/"+t.newVacancy.id)}).catch(e=>{(0,c.Z)("error","Something went wrong!")})}return s.jsx(s.Fragment,{children:(0,s.jsxs)("main",{className:"w-full mt-[64px] flex flex-col justify-center items-center gap-5 px-3",children:[s.jsx("h1",{className:"text-black text-4xl font-medium",children:"Create vacancy"}),(0,s.jsxs)("form",{className:"w-1/2 max-md:w-full box-border flex flex-col gap-3",onSubmit:p,children:[s.jsx("input",{onChange:d,className:"p-2 rounded",name:"title",placeholder:"Position title",type:"text"}),s.jsx("input",{onChange:d,className:"p-2 rounded",name:"company",placeholder:"Company name",type:"text"}),s.jsx("input",{onChange:d,className:"p-2 rounded",name:"companyLogo",placeholder:"Company logo image url (PNG format)",type:"text"}),(0,s.jsxs)("select",{onChange:d,value:o.workSchedule,className:"p-2 rounded",name:"workSchedule",children:[s.jsx("option",{value:"FULLTIME",children:"Full-Time"}),s.jsx("option",{value:"PARTTIME",children:"Part-Time"}),s.jsx("option",{value:"INTERNSHIP",children:"Internship"})]}),s.jsx("input",{onChange:d,className:"p-2 rounded",name:"minSalary",placeholder:"Minimal salary",type:"number"}),s.jsx("input",{onChange:d,className:"p-2 rounded",name:"maxSalary",placeholder:"Maximal salary",type:"number"}),s.jsx("input",{onChange:d,className:"p-2 rounded",name:"location",placeholder:"Example: Latvia, Riga",type:"text"}),s.jsx("div",{className:"w-full h-[550px] overflow-auto border border-black rounded",children:s.jsx(u,{className:"w-full h-[510px]",value:o.description,onChange:e=>l(t=>({...t,description:e})),theme:"snow"})}),s.jsx("button",{type:"submit",children:"Submit"})]})]})})}},53267:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let s=r(39694);r(3729);let a=s._(r(60546));function n(e){return{default:(null==e?void 0:e.default)||e}}function i(e,t){let r=a.default,s={loading:e=>{let{error:t,isLoading:r,pastDelay:s}=e;return null}};"function"==typeof e&&(s.loader=e),Object.assign(s,t);let i=s.loader;return r({...s,loader:()=>null!=i?i().then(n):Promise.resolve(n(()=>null))})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},91868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NoSSR",{enumerable:!0,get:function(){return a}});let s=r(61462);function a(e){let{children:t}=e;return(0,s.throwWithNoSSR)(),t}},60546:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let s=r(39694)._(r(3729)),a=r(91868),n=function(e){let t=Object.assign({loader:null,loading:null,ssr:!0},e);function r(e){let r=t.loading,n=s.default.createElement(r,{isLoading:!0,pastDelay:!0,error:null}),i=t.ssr?s.default.Fragment:a.NoSSR,o=t.lazy;return s.default.createElement(s.default.Suspense,{fallback:n},s.default.createElement(i,null,s.default.createElement(o,e)))}return t.lazy=s.default.lazy(t.loader),r.displayName="LoadableComponent",r}},22254:(e,t,r)=>{e.exports=r(14767)},1421:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(1208);function a(e,t){e&&t&&("success"===e?s.toast.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}):"error"===e&&s.toast.error(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))}},80577:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(25036),a=r(8592),n=r.n(a);r(67272),r(76132),r(97001),r(40002);var i=r(23222),o=r(86843);let l=(0,o.createProxy)(String.raw`/Users/lurker/Desktop/employease/app/components/client/Navbar.tsx`),{__esModule:c,$$typeof:u}=l,d=l.default,p=(0,o.createProxy)(String.raw`/Users/lurker/Desktop/employease/app/components/client/NextAuthProvider.tsx`),{__esModule:m,$$typeof:x}=p,h=p.default;var f=r(81355),y=r(83411);async function g({children:e}){let t=await (0,f.getServerSession)(y.L);return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:n().className,children:[s.jsx(i.Ix,{}),s.jsx("div",{className:"min-h-[100vh] flex flex-col justify-between",children:(0,s.jsxs)(h,{children:[s.jsx(d,{session:t}),s.jsx("div",{className:"pt-[64px]",children:e}),s.jsx("footer",{children:"test footer"})]})})]})})}},5699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let s=(0,r(86843).createProxy)(String.raw`/Users/lurker/Desktop/employease/app/vacancies/create/page.tsx`),{__esModule:a,$$typeof:n}=s,i=s.default},83411:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var s=r(86485),a=r(23106),n=r(6521);let i={secret:process.env.AUTH_SECRET,session:{strategy:"jwt"},providers:[(0,s.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"text"},password:{label:"Password",type:"password"}},async authorize(e,t){if(!e)return;let{email:r,password:s}=e,i=await a.Z.user.findFirst({where:{email:r},include:{application:!0,vacancies:!0}}).finally(()=>{a.Z.$disconnect()});if(!i)throw Error("User not found!");if(!await (0,n.compare)(s,i.password))throw Error("Incorrect password");return{id:i.id,email:i.email,name:i.name,surname:i.surname,role:i.Role,application:i.application,vacancies:i.vacancies}}})],pages:{signIn:`${process.env.BASE_PATH}/auth/signin`,newUser:process.env.BASE_PATH},callbacks:{jwt:async({token:e})=>e,session:async({session:e,token:t})=>{if(!t.email)return null;let r=await a.Z.user.findFirst({where:{email:t.email},include:{application:!0,vacancies:!0}}).finally(()=>{a.Z.$disconnect()});return r?(e.user={id:r.id,email:r.email,name:r.name,surname:r.surname,role:r.Role,application:r.application,vacancies:r.vacancies},e):null}}}},23106:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=new(r(53524)).PrismaClient},67272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[431,521,123,30],()=>r(67899));module.exports=s})();