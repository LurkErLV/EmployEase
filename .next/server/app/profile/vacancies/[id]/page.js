(()=>{var e={};e.id=747,e.ids=[747],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},12641:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c});var r=s(50482),i=s(69108),a=s(62563),n=s.n(a),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["profile",{children:["vacancies",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,18959)),"/Users/lurker/Desktop/employease/app/profile/vacancies/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,80577)),"/Users/lurker/Desktop/employease/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/lurker/Desktop/employease/app/profile/vacancies/[id]/page.tsx"],p="/profile/vacancies/[id]/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/profile/vacancies/[id]/page",pathname:"/profile/vacancies/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},52749:(e,t,s)=>{Promise.resolve().then(s.bind(s,56897)),Promise.resolve().then(s.bind(s,72401)),Promise.resolve().then(s.bind(s,1208))},84961:(e,t,s)=>{Promise.resolve().then(s.bind(s,39477))},19996:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,26840,23)),Promise.resolve().then(s.t.bind(s,38771,23)),Promise.resolve().then(s.t.bind(s,13225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,43982,23))},56897:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(95344),i=s(3729),a=s(20783),n=s.n(a),o=s(47674);function l(e){switch(e.type){case"signin":return r.jsx("button",{onClick:()=>(0,o.signIn)(),className:"text-white bg-blue-600 px-2 py-1.5 rounded transition hover:bg-opacity-40 hover:text-blue-600",children:"Sign in"});case"signout":return r.jsx("button",{onClick:()=>(0,o.signOut)(),className:"text-white bg-blue-600 px-2 py-1.5 rounded transition hover:bg-opacity-40 hover:text-blue-600",children:"Sign Out"});case"signup":return r.jsx(n(),{href:"/auth/signup",className:"text-white bg-blue-600 px-2 py-1.5 rounded transition hover:bg-opacity-40 hover:text-blue-600",children:"Register"})}}function c(e){let[t,s]=(0,i.useState)(!0),[a,o]=(0,i.useState)(!1),c=e.session;return(0,i.useEffect)(()=>{window.addEventListener("scroll",()=>{s(window.scrollY<=20)})},[]),r.jsx(r.Fragment,{children:r.jsx("nav",{className:`fixed z-10 w-full h-[64px] flex justify-center items-center transition duration-500 ${t?"bg-black bg-opacity-80":"bg-[#1A1532]"}`,children:(0,r.jsxs)("div",{className:"relative max-md:flex-col max-md:my-5 w-full max-w-[1140px] mx-5 flex justify-between items-center transition",children:[(0,r.jsxs)("div",{className:"max-md:flex max-md:justify-between max-md:w-full",children:[r.jsx(n(),{onClick:()=>o(!1),className:"text-2xl font-medium",href:"/",children:"EmployEase"}),r.jsx("button",{className:"hidden max-md:block z-20",onClick:()=>o(!a),children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M4 18L20 18",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),r.jsx("path",{d:"M4 12L20 12",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}),r.jsx("path",{d:"M4 6L20 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})]})})]}),(0,r.jsxs)("div",{className:`${t?"max-md:bg-black max-md:bg-opacity-80":"max-md:bg-[#1A1532]"} ${a?"max-md:translate-x-0":"max-md:translate-x-[-100%]"} max-md:w-[100vw] max-md:duration-500 max-md:top-7 max-md:py-5 max-md:absolute max-md:flex-col max-md:my-5 flex items-center gap-5 transition`,children:[r.jsx(n(),{onClick:()=>o(!1),className:"hover:opacity-60 transition",href:"/",children:"Home"}),r.jsx(n(),{onClick:()=>o(!1),className:"hover:opacity-60 transition",href:"/vacancies",children:"Vacancies"}),c&&r.jsx(n(),{onClick:()=>o(!1),className:"hover:opacity-60 transition",href:"/profile",children:"Profile"}),c?.user.role==="Employer"||c?.user.role==="Admin"?(0,r.jsxs)(r.Fragment,{children:[r.jsx(n(),{onClick:()=>o(!1),className:"hover:opacity-60 transition",href:"/vacancies/create",children:"Create vacancy"}),r.jsx(n(),{onClick:()=>o(!1),className:"hover:opacity-60 transition",href:"/profile/vacancies",children:"My vacancies"})]}):r.jsx(r.Fragment,{}),r.jsx(function(){return c?r.jsx(l,{type:"signout"}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(l,{type:"signin"}),r.jsx(l,{type:"signup"})]})},{})]})]})})})}},72401:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(95344),i=s(47674);function a({children:e}){return r.jsx(i.SessionProvider,{children:e})}},39477:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(95344);function i({status:e,id:t}){async function s(e,t){await fetch(`http://192.168.1.163:3000/api/vacancy/application/changeStatus/${t}?status=${e}`,{method:"POST"})}return r.jsx(r.Fragment,{children:(0,r.jsxs)("select",{onChange:e=>s(e.target.value,t),defaultValue:e,children:[r.jsx("option",{value:"Waiting",children:"Waiting"}),r.jsx("option",{value:"Approved",children:"Approved"}),r.jsx("option",{value:"Rejected",children:"Rejected"})]})})}},80577:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(25036),i=s(8592),a=s.n(i);s(67272),s(76132),s(97001),s(40002);var n=s(23222),o=s(86843);let l=(0,o.createProxy)(String.raw`/Users/lurker/Desktop/employease/app/components/client/Navbar.tsx`),{__esModule:c,$$typeof:d}=l,p=l.default,u=(0,o.createProxy)(String.raw`/Users/lurker/Desktop/employease/app/components/client/NextAuthProvider.tsx`),{__esModule:m,$$typeof:x}=u,h=u.default;var v=s(81355),f=s(83411);async function b({children:e}){let t=await (0,v.getServerSession)(f.L);return r.jsx("html",{lang:"en",children:(0,r.jsxs)("body",{className:a().className,children:[r.jsx(n.Ix,{}),r.jsx("div",{className:"min-h-[100vh] flex flex-col justify-between",children:(0,r.jsxs)(h,{children:[r.jsx(p,{session:t}),r.jsx("div",{className:"pt-[64px]",children:e}),r.jsx("footer",{children:"test footer"})]})})]})})}},18959:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(25036),i=s(81355),a=s(83411),n=s(44551),o=s(32455);let l=(0,s(86843).createProxy)(String.raw`/Users/lurker/Desktop/employease/app/components/client/SelectStatus.tsx`),{__esModule:c,$$typeof:d}=l,p=l.default;async function u({params:e}){let t=await (0,i.getServerSession)(a.L);if(!t||"Employee"===t.user.role)return(0,n.redirect)("/");let s=await (await fetch("https://employease.matrozis.dev/api/profile/vacancies/"+e.id,{method:"GET",headers:(0,o.headers)()})).json();return r.jsx(r.Fragment,{children:r.jsx("div",{className:"w-full h-full flex justify-center mt-5 overflow-auto",children:(0,r.jsxs)("table",{className:"table-auto border-collapse border border-slate-500 border-spacing-2 min-w-fit",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"border border-slate-500 p-2",children:"Candidate email"}),r.jsx("th",{className:"border border-slate-500 p-2",children:"Position"}),r.jsx("th",{className:"border border-slate-500 p-2",children:"Company"}),r.jsx("th",{className:"border border-slate-500 p-2",children:"Location"}),r.jsx("th",{className:"border border-slate-500 p-2",children:"Status"})]})}),r.jsx("tbody",{children:s.applications.map((e,t)=>(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"border border-slate-500 p-2",children:e.User.email}),r.jsx("td",{className:"border border-slate-500 p-2",children:e.Vacancy.title}),r.jsx("td",{className:"border border-slate-500 p-2",children:"Facebook"}),r.jsx("td",{className:"border border-slate-500 p-2",children:"Latvia, Riga"}),r.jsx("td",{className:"border border-slate-500 p-2",children:r.jsx(p,{id:e.id,status:e.status})})]},t))})]})})})}},83411:(e,t,s)=>{"use strict";s.d(t,{L:()=>n});var r=s(86485),i=s(23106),a=s(6521);let n={secret:process.env.AUTH_SECRET,session:{strategy:"jwt"},providers:[(0,r.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"text"},password:{label:"Password",type:"password"}},async authorize(e,t){if(!e)return;let{email:s,password:r}=e,n=await i.Z.user.findFirst({where:{email:s},include:{application:!0,vacancies:!0}}).finally(()=>{i.Z.$disconnect()});if(!n)throw Error("User not found!");if(!await (0,a.compare)(r,n.password))throw Error("Incorrect password");return{id:n.id,email:n.email,name:n.name,surname:n.surname,role:n.Role,application:n.application,vacancies:n.vacancies}}})],pages:{signIn:`${process.env.BASE_PATH}/auth/signin`,newUser:process.env.BASE_PATH},callbacks:{jwt:async({token:e})=>e,session:async({session:e,token:t})=>{if(!t.email)return null;let s=await i.Z.user.findFirst({where:{email:t.email},include:{application:!0,vacancies:!0}}).finally(()=>{i.Z.$disconnect()});return s?(e.user={id:s.id,email:s.email,name:s.name,surname:s.surname,role:s.Role,application:s.application,vacancies:s.vacancies},e):null}}}},23106:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=new(s(53524)).PrismaClient},67272:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[431,521,123,30,551],()=>s(12641));module.exports=r})();